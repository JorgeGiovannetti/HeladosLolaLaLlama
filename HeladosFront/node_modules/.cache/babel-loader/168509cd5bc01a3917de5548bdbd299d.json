{"ast":null,"code":"var _jsxFileName = \"/Users/alejandro/vapor/HeladosLolaLaLlama/HeladosFront/src/views/general/ProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { useParams } from 'react-router-dom';\nimport { Box, Center, HStack, Spinner, Image, Badge, Text, VStack, RadioGroup, Radio, Icon, Link, NumberInput, NumberInputField, NumberInputStepper, NumberIncrementStepper, NumberDecrementStepper, useToast } from '@chakra-ui/react';\nimport { Redirect } from 'react-router-dom';\nimport { Stack } from '@chakra-ui/layout';\nimport Navbar from '../../components/general/Navbar';\nimport useProduct from './hooks/useProduct';\nimport { HiShoppingCart } from 'react-icons/hi';\nimport cartState from './recoil/cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst getCategoryColor = name => {\n  switch (name) {\n    case 'Tradicionales':\n      return 'red';\n\n    case 'PREMIUM':\n      return 'yellow';\n\n    case `HERSHEY's`:\n      return 'blue';\n\n    default:\n      return 'orange';\n  }\n};\n\nconst ProductDetail = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    product,\n    isLoading,\n    error\n  } = useProduct(id);\n  const toast = useToast();\n  const setCart = useSetRecoilState(cartState);\n  const imageURL = !isLoading && product !== undefined ? product.product.fotos[0].foto : '';\n  const name = !isLoading && product !== undefined ? product.product.name : '';\n  const [numberOfPints, setNumberOfPints] = useState('1');\n  const [size, setSize] = useState('sm');\n\n  if (error) {\n    console.log('Error fetching product');\n    console.log(error);\n  }\n\n  const categoriesBadges = !isLoading && product !== undefined ? product.categories.map(({\n    id,\n    name\n  }) => /*#__PURE__*/_jsxDEV(Badge, {\n    borderRadius: \"full\",\n    px: \"2\",\n    colorScheme: getCategoryColor(name),\n    children: name\n  }, id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 6\n  }, this)) : null;\n\n  const addToCart = () => {\n    toast({\n      title: 'Â¡Helado agregado!',\n      description: 'El helado ha sido agregado a tu carrito exitosamente.',\n      status: 'success',\n      duration: 9000,\n      isClosable: true\n    });\n    let price = 0;\n\n    if (size === 'sm') {\n      price = product.product.precios[0].price;\n    } else if (size === 'md') {\n      price = product.product.precios[1].price;\n    } else {\n      price = product.product.precios[2].price;\n    }\n\n    const compoundID = id + size;\n    setCart(oldCart => [...oldCart, {\n      name,\n      imageURL,\n      size,\n      numberOfPints,\n      id: compoundID,\n      price\n    }]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !isLoading && product === undefined ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 12,\n        children: isLoading ? /*#__PURE__*/_jsxDEV(Center, {\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            size: \"xl\",\n            color: 'gray'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n          direction: {\n            sm: 'column',\n            lg: 'row'\n          },\n          spacing: 16,\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: imageURL,\n            objectFit: \"contain\",\n            alt: 'Helado de ' + product.flavor,\n            w: \"md\",\n            rounded: \"md\",\n            ml: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(VStack, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"4xl\",\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(HStack, {\n              pb: 8,\n              children: [categoriesBadges, /*#__PURE__*/_jsxDEV(Box, {\n                color: \"gray.500\",\n                fontWeight: \"semibold\",\n                letterSpacing: \"wide\",\n                fontSize: \"xs\",\n                textTransform: \"uppercase\",\n                ml: \"2\",\n                children: product.flavor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"xl\",\n              children: product.product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              direction: {\n                sm: 'column',\n                lg: 'row'\n              },\n              children: [product.product.precios[0] ? /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  borderRadius: \"full\",\n                  px: \"2\",\n                  colorScheme: 'green',\n                  children: \"Chico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 13\n                }, this), ' ', \"$\", product.product.precios[0].price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 12\n              }, this) : null, product.product.precios[1] ? /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  borderRadius: \"full\",\n                  px: \"2\",\n                  colorScheme: 'yellow',\n                  children: \"Med\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 13\n                }, this), ' ', \"$\", product.product.precios[1].price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 12\n              }, this) : null, product.product.precios[2] ? /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  borderRadius: \"full\",\n                  px: \"2\",\n                  colorScheme: 'pink',\n                  children: \"Grande\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 13\n                }, this), ' ', \"$\", product.product.precios[2].price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 12\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              pt: 16,\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  sm: 'column',\n                  lg: 'row'\n                },\n                align: \"center\",\n                spacing: 4,\n                children: [/*#__PURE__*/_jsxDEV(RadioGroup, {\n                  defaultValue: \"sm\",\n                  onChange: setSize,\n                  children: /*#__PURE__*/_jsxDEV(Stack, {\n                    spacing: 5,\n                    direction: \"row\",\n                    children: [product.product.precios[0] ? /*#__PURE__*/_jsxDEV(Radio, {\n                      colorScheme: \"green\",\n                      value: \"sm\",\n                      children: \"Chico\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 15\n                    }, this) : null, product.product.precios[1] ? /*#__PURE__*/_jsxDEV(Radio, {\n                      colorScheme: \"yellow\",\n                      value: \"md\",\n                      children: \"Med\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 15\n                    }, this) : null, product.product.precios[2] ? /*#__PURE__*/_jsxDEV(Radio, {\n                      colorScheme: \"pink\",\n                      value: \"lg\",\n                      children: \"Grande\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 15\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  w: \"32\",\n                  children: /*#__PURE__*/_jsxDEV(NumberInput, {\n                    defaultValue: 1,\n                    min: 1,\n                    max: 25,\n                    size: \"md\",\n                    onChange: setNumberOfPints,\n                    children: [/*#__PURE__*/_jsxDEV(NumberInputField, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 14\n                    }, this), /*#__PURE__*/_jsxDEV(NumberInputStepper, {\n                      children: [/*#__PURE__*/_jsxDEV(NumberIncrementStepper, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(NumberDecrementStepper, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 14\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                w: \"100%\",\n                m: 8,\n                rounded: 'md',\n                _hover: {\n                  textDecoration: 'none'\n                },\n                color: 'white',\n                colorScheme: 'black',\n                onClick: () => addToCart(),\n                children: /*#__PURE__*/_jsxDEV(Center, {\n                  bg: 'gray.800',\n                  borderRadius: \"md\",\n                  w: '100%',\n                  padding: '3',\n                  justifyContent: 'center',\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: 'lg',\n                    fontWeight: 'bold',\n                    children: [/*#__PURE__*/_jsxDEV(Icon, {\n                      w: 5,\n                      h: 5,\n                      color: \"white\",\n                      as: HiShoppingCart,\n                      mr: 4\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 14\n                    }, this), \"AGREGAR A CARRITO\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(ProductDetail, \"H8tx+U0iJYOOtOTSlc2jHsJVNfU=\", false, function () {\n  return [useParams, useProduct, useToast, useSetRecoilState];\n});\n\n_c = ProductDetail;\nexport default ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"sources":["/Users/alejandro/vapor/HeladosLolaLaLlama/HeladosFront/src/views/general/ProductDetail.js"],"names":["React","useState","useSetRecoilState","useParams","Box","Center","HStack","Spinner","Image","Badge","Text","VStack","RadioGroup","Radio","Icon","Link","NumberInput","NumberInputField","NumberInputStepper","NumberIncrementStepper","NumberDecrementStepper","useToast","Redirect","Stack","Navbar","useProduct","HiShoppingCart","cartState","getCategoryColor","name","ProductDetail","id","product","isLoading","error","toast","setCart","imageURL","undefined","fotos","foto","numberOfPints","setNumberOfPints","size","setSize","console","log","categoriesBadges","categories","map","addToCart","title","description","status","duration","isClosable","price","precios","compoundID","oldCart","sm","lg","flavor","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useSetRecoilState } from 'recoil'\nimport { useParams } from 'react-router-dom'\nimport {\n\tBox,\n\tCenter,\n\tHStack,\n\tSpinner,\n\tImage,\n\tBadge,\n\tText,\n\tVStack,\n\tRadioGroup,\n\tRadio,\n\tIcon,\n\tLink,\n\tNumberInput,\n\tNumberInputField,\n\tNumberInputStepper,\n\tNumberIncrementStepper,\n\tNumberDecrementStepper,\n\tuseToast,\n} from '@chakra-ui/react'\nimport { Redirect } from 'react-router-dom'\nimport { Stack } from '@chakra-ui/layout'\nimport Navbar from '../../components/general/Navbar'\nimport useProduct from './hooks/useProduct'\nimport { HiShoppingCart } from 'react-icons/hi'\nimport cartState from './recoil/cart'\n\nconst getCategoryColor = (name) => {\n\tswitch (name) {\n\t\tcase 'Tradicionales':\n\t\t\treturn 'red'\n\t\tcase 'PREMIUM':\n\t\t\treturn 'yellow'\n\t\tcase `HERSHEY's`:\n\t\t\treturn 'blue'\n\t\tdefault:\n\t\t\treturn 'orange'\n\t}\n}\n\nconst ProductDetail = () => {\n\tconst { id } = useParams()\n\tconst { product, isLoading, error } = useProduct(id)\n\n\tconst toast = useToast()\n\tconst setCart = useSetRecoilState(cartState)\n\tconst imageURL =\n\t\t!isLoading && product !== undefined ? product.product.fotos[0].foto : ''\n\tconst name = !isLoading && product !== undefined ? product.product.name : ''\n\n\tconst [numberOfPints, setNumberOfPints] = useState('1')\n\tconst [size, setSize] = useState('sm')\n\n\tif (error) {\n\t\tconsole.log('Error fetching product')\n\t\tconsole.log(error)\n\t}\n\n\tconst categoriesBadges =\n\t\t!isLoading && product !== undefined\n\t\t\t? product.categories.map(({ id, name }) => (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tborderRadius='full'\n\t\t\t\t\t\tpx='2'\n\t\t\t\t\t\tcolorScheme={getCategoryColor(name)}\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Badge>\n\t\t\t  ))\n\t\t\t: null\n\n\tconst addToCart = () => {\n\t\ttoast({\n\t\t\ttitle: 'Â¡Helado agregado!',\n\t\t\tdescription: 'El helado ha sido agregado a tu carrito exitosamente.',\n\t\t\tstatus: 'success',\n\t\t\tduration: 9000,\n\t\t\tisClosable: true,\n\t\t})\n\n\t\tlet price = 0\n\t\tif (size === 'sm') {\n\t\t\tprice = product.product.precios[0].price\n\t\t} else if (size === 'md') {\n\t\t\tprice = product.product.precios[1].price\n\t\t} else {\n\t\t\tprice = product.product.precios[2].price\n\t\t}\n\t\tconst compoundID = id + size\n\n\t\tsetCart((oldCart) => [\n\t\t\t...oldCart,\n\t\t\t{ name, imageURL, size, numberOfPints, id: compoundID, price },\n\t\t])\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{!isLoading && product === undefined ? (\n\t\t\t\t<Redirect to='/products' />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<Box mt={12}>\n\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t<Center>\n\t\t\t\t\t\t\t\t<Spinner size='xl' color={'gray'} />\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Stack direction={{ sm: 'column', lg: 'row' }} spacing={16}>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={imageURL}\n\t\t\t\t\t\t\t\t\tobjectFit='contain'\n\t\t\t\t\t\t\t\t\talt={'Helado de ' + product.flavor}\n\t\t\t\t\t\t\t\t\tw='md'\n\t\t\t\t\t\t\t\t\trounded='md'\n\t\t\t\t\t\t\t\t\tml={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t<Text fontSize='4xl'>{name}</Text>\n\n\t\t\t\t\t\t\t\t\t<HStack pb={8}>\n\t\t\t\t\t\t\t\t\t\t{categoriesBadges}\n\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\tcolor='gray.500'\n\t\t\t\t\t\t\t\t\t\t\tfontWeight='semibold'\n\t\t\t\t\t\t\t\t\t\t\tletterSpacing='wide'\n\t\t\t\t\t\t\t\t\t\t\tfontSize='xs'\n\t\t\t\t\t\t\t\t\t\t\ttextTransform='uppercase'\n\t\t\t\t\t\t\t\t\t\t\tml='2'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{product.flavor}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t\t<Text fontSize='xl'>{product.product.description}</Text>\n\n\t\t\t\t\t\t\t\t\t{/* Prices */}\n\t\t\t\t\t\t\t\t\t<Stack direction={{ sm: 'column', lg: 'row' }}>\n\t\t\t\t\t\t\t\t\t\t{product.product.precios[0] ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge borderRadius='full' px='2' colorScheme={'green'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tChico\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t${product.product.precios[0].price}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t{product.product.precios[1] ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius='full'\n\t\t\t\t\t\t\t\t\t\t\t\t\tpx='2'\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolorScheme={'yellow'}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tMed\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t${product.product.precios[1].price}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t{product.product.precios[2] ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge borderRadius='full' px='2' colorScheme={'pink'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tGrande\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t${product.product.precios[2].price}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t{/* Add to cart */}\n\t\t\t\t\t\t\t\t\t<Box pt={16}>\n\t\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\t\tdirection={{ sm: 'column', lg: 'row' }}\n\t\t\t\t\t\t\t\t\t\t\talign='center'\n\t\t\t\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup defaultValue='sm' onChange={setSize}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack spacing={5} direction='row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{product.product.precios[0] ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Radio colorScheme='green' value='sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tChico\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{product.product.precios[1] ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Radio colorScheme='yellow' value='md'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMed\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{product.product.precios[2] ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Radio colorScheme='pink' value='lg'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGrande\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t\t\t\t\t\t<Box w='32'>\n\t\t\t\t\t\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={25}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='md'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={setNumberOfPints}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberInputField />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberInputStepper>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberIncrementStepper />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberDecrementStepper />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</NumberInputStepper>\n\t\t\t\t\t\t\t\t\t\t\t\t</NumberInput>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tw='100%'\n\t\t\t\t\t\t\t\t\t\t\tm={8}\n\t\t\t\t\t\t\t\t\t\t\trounded={'md'}\n\t\t\t\t\t\t\t\t\t\t\t_hover={{\n\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: 'none',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tcolor={'white'}\n\t\t\t\t\t\t\t\t\t\t\tcolorScheme={'black'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => addToCart()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Center\n\t\t\t\t\t\t\t\t\t\t\t\tbg={'gray.800'}\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius='md'\n\t\t\t\t\t\t\t\t\t\t\t\tw={'100%'}\n\t\t\t\t\t\t\t\t\t\t\t\tpadding={'3'}\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent={'center'}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text fontSize={'lg'} fontWeight={'bold'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tw={5}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\th={5}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='white'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={HiShoppingCart}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmr={4}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tAGREGAR A CARRITO\n\t\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default ProductDetail\n"]},"metadata":{},"sourceType":"module"}