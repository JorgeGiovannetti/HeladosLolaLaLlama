{"ast":null,"code":"import { atom } from 'recoil';\n\nconst localStorageEffect = key => ({\n  setSelf,\n  onSet\n}) => {\n  const savedValue = localStorage.getItem(key);\n\n  if (savedValue != null) {\n    setSelf(JSON.parse(savedValue));\n  }\n\n  onSet(newValue => {\n    if (newValue.length === 0) {\n      localStorage.removeItem(key);\n    } else {\n      // Update local storage with products\n      localStorage.setItem(key, JSON.stringify(newValue));\n    }\n  });\n};\n\nconst cartState = atom({\n  key: 'cartState',\n  default: [],\n  effects_UNSTABLE: [localStorageEffect('cart')]\n});\nexport default cartState;","map":{"version":3,"sources":["/Users/alejandro/vapor/HeladosLolaLaLlama/HeladosFront/src/views/general/recoil/cart.js"],"names":["atom","localStorageEffect","key","setSelf","onSet","savedValue","localStorage","getItem","JSON","parse","newValue","length","removeItem","setItem","stringify","cartState","default","effects_UNSTABLE"],"mappings":"AAAA,SAASA,IAAT,QAAqB,QAArB;;AAEA,MAAMC,kBAAkB,GAAIC,GAAD,IAAS,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAwB;AAC3D,QAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAnB;;AACA,MAAIG,UAAU,IAAI,IAAlB,EAAwB;AACvBF,IAAAA,OAAO,CAACK,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAD,CAAP;AACA;;AAEDD,EAAAA,KAAK,CAAEM,QAAD,IAAc;AACnB,QAAIA,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B;AAC1BL,MAAAA,YAAY,CAACM,UAAb,CAAwBV,GAAxB;AACA,KAFD,MAEO;AACN;AACAI,MAAAA,YAAY,CAACO,OAAb,CAAqBX,GAArB,EAA0BM,IAAI,CAACM,SAAL,CAAeJ,QAAf,CAA1B;AACA;AACD,GAPI,CAAL;AAQA,CAdD;;AAgBA,MAAMK,SAAS,GAAGf,IAAI,CAAC;AACtBE,EAAAA,GAAG,EAAE,WADiB;AAEtBc,EAAAA,OAAO,EAAE,EAFa;AAGtBC,EAAAA,gBAAgB,EAAE,CAAChB,kBAAkB,CAAC,MAAD,CAAnB;AAHI,CAAD,CAAtB;AAMA,eAAec,SAAf","sourcesContent":["import { atom } from 'recoil'\n\nconst localStorageEffect = (key) => ({ setSelf, onSet }) => {\n\tconst savedValue = localStorage.getItem(key)\n\tif (savedValue != null) {\n\t\tsetSelf(JSON.parse(savedValue))\n\t}\n\n\tonSet((newValue) => {\n\t\tif (newValue.length === 0) {\n\t\t\tlocalStorage.removeItem(key)\n\t\t} else {\n\t\t\t// Update local storage with products\n\t\t\tlocalStorage.setItem(key, JSON.stringify(newValue))\n\t\t}\n\t})\n}\n\nconst cartState = atom({\n\tkey: 'cartState',\n\tdefault: [],\n\teffects_UNSTABLE: [localStorageEffect('cart')],\n})\n\nexport default cartState\n"]},"metadata":{},"sourceType":"module"}